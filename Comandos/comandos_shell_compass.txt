SENHA Wil3295*

** TERMINAL SHELL **

* Verificar se o Shell está correto --> mongosh

* Criar coleção/BD -> db.createCollection

* Mostrar DB's -> show databases

* Deletar DB -> db.dropDatabase()

* Inserindo doc por linhas de comando -> db.BigDataParaNegócios.insertOne({"Unidade":"Taboão da Serra"})

* Inserir mais de um doc -> db.BigDataParaNegócios.insertMany([{"Unidade":"Jundiaí"},{"Unidade": "São Roque"}])

* show tables -> Verificar as coleções de um BD

* Atualizar um único valor -> db.BigDataParaNegócios.updateOne({"Unidade":"Ipiranga"}, {$set:{"Unidade":"Pastor Tognini"}})

* Adicionar uma chave-valor que não existe ->  db.BigDataParaNegócios.updateOne({"Unidade":"São Paulo"}, {$set:{"Professor":"Samuel"}})

* Deletar UM documento com chave-valor "Unidade": São Paulo -> db.BigDataParaNegócios.deleteOne({"Unidade":"São Paulo"})

* Deletar TODOS documento com chave-valor "Unidade": São Paulo -> db.BigDataParaNegócios.deleteOne({"Unidade":"São Paulo"})

* Deletar Coleção -> db.BigDataParaNegócios.drop()

* Deletar DB (estar dentro do BD - "use bancoAdeletar" ) -> db.dropDatabase()

--

CONSULTAS 

db.BigDataParaNegócios.find()

 db.BigDataParaNegócios.find({"Unidade":"Ipiranga"})

* Consta todos docs do BD removendo os id's ->  db.BigDataParaNegócios.find({}, {_id:0})

* Encontrando docs por mais de um valor -> db.BigDataParaNegócios.find({"Ano":{$in:[2024,2028]}}, {_id:0})

* Com limite e ordenação - > db.BigDataParaNegócios.find({"Ano":{$in:[2024,2028]}}, {_id:0}).sort({"Ano":-1}).limit(1)

* Buscar valores IGUAIS OU MENORES ->  db.BigDataParaNegócios.find({"Ano":{$lte:2024}})

* Trazer docs com valores QUE NÃO CONTÊM as anos... -> db.BigDataParaNegócios.find({"Ano":{$nin:[2024,2025]}})

* Encontrar os valores pelas chave e duas palavras(valores) -> db.BigDataParaNegócios.find({"Unidade":{$all:["Ipiranga", "São Roque"]}})


------

* Find: Para encontrar os valores/chaves

PROJECT - Pesquisar as chaves por qualquer valor (usar "2")

* Project: Para encontrar os documentos APENAS pelas chaves e pelos valores das chaves

-------------------------

** COMPASS **

* Filter/OR -> {$or:[{"Ano":2024},{"Unidade":"Taboão da Serra"}]}

* Filter/AND (Os valores retornam se houver em todos os valores estipulados)-> {$and:[{"Ano":2024},{"Unidade":"Taboão da Serra"}]} 

* Filter/IN (Encontrar pelos valores de uma ou mais colunas) -> {"Ano":{$in:[2024,2028]}}

* Encontrar docs com valores MAIORES QUE: {"Ano":{$gt:2024}}

* Encontrar docs com valores MENORES E IGUAIS QUE: {"Ano":{$lte:2028}}

* Encontrar docs com valores MENORES QUE: {"Ano":{$lt:2028}}

--


